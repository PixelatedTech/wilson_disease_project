<!DOCTYPE html>
<html>

<head>
  <!-- Basic -->
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <!-- Mobile Metas -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <!-- Site Metas -->
  <meta name="keywords" content="" />
  <meta name="description" content="" />
  <meta name="author" content="" />

  <title>NeuroMed AI</title>

  <!-- slider stylesheet -->
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/owl.carousel.min.css') }}" />

  <!-- bootstrap core css -->
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/bootstrap.css') }}" />

  <!-- fonts style -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Poppins:400,700&display=swap" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet" />

  <!-- responsive style -->
  <link href="{{ url_for('static', filename='css/responsive.css') }}" rel="stylesheet" />
</head>

<body class="sub_page">
  <div class="hero_area">
    <!-- header section strats -->
    <header class="header_section">
      <div class="container-fluid">
        <nav class="navbar navbar-expand-lg custom_nav-container pt-3">
          <a class="navbar-brand" href="index.html">
            <span>
              NeuroMed AI
            </span>
          </a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <div class="d-flex ml-auto flex-column flex-lg-row align-items-center">
              <ul class="navbar-nav  ">
                <li class="nav-item active">
                  <a class="nav-link" href="index.html">Home <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="about.html"> Test </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="{{ url_for('do') }}"> Dashboard </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="portfolio.html"> Scan </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="contact.html">Contact us</a>
                </li>
              </ul>
              <div class="user_option">
                <a href="">
                  <img src="images/user.png" alt="">
                </a>
                
              </div>
            </div>
          </div>
        </nav>
      </div>
    </header>
    <!-- end header section -->
  </div>


  <!-- who section -->
  <!-- slider section -->
  <!-- who section -->

  <section class="who_section layout_padding">
    <div class="container">
      <div class="row">
        <div class="col-md-5">
          <div class="img-box">
            <img src="{{ url_for('static', filename='images/wd.png') }}" alt="">
          </div>
        </div>
        <div class="col-md-7">
          <div class="detail-box">
            <div class="heading_container">
              <h2>
                Take The Test
              </h2>
            </div>
            <p>
              Take just 10 minutes to complete the Wilson Disease Prediction Test. Enter your medical details, and our advanced machine learning model will analyze them to provide a quick and accurate prediction. This tool is designed to support early detection and help you make informed health decisions.
            </p>
            <div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- end who section -->

  <section class="who_section layout_padding">
    <div class="container">
      <div class="row">
        <div class="col">
          <form id="predictionForm" action="/submit" method="post">
            <div class="form-row ">
              <div class="form-group col-lg-4">
                <label for="inputAge">Enter Age </label>
                <input type="number" class="form-control" id="inputAge" name="inputAge" placeholder="Age" min="5" max="100" required>
              </div>
              <div class="form-group col-lg-4">
                <label for="inputGender">Select Gender</label>
                <select class="form-control" id="inputGender" name="inputGender" required>
                  <option value="">-- Select Gender --</option>
                  <option value="Male">Male</option>
                  <option value="Female">Female</option>
                </select>
              </div>

              <div class="form-group col-lg-4">
                <label for="inputCeruloplasmin">Enter Ceruloplasmin Level</label>
                <input type="number" class="form-control" id="inputCeruloplasmin" name="inputCeruloplasmin" placeholder="Ceruloplasmin Level" min="-0.4" max="43" step="0.1" required>
              </div>

              <div class="form-group col-lg-4">
                <label for="inputCopperBlood">Enter Copper in Blood Serum</label>
                <input type="number" class="form-control" id="inputCopperBlood" name="inputCopperBlood" placeholder="Copper in Blood Serum" min="-66" max="450" step="0.1" required>
              </div>

              <div class="form-group col-lg-4">
                <label for="inputFreeCopperBlood">Enter Free Copper in Blood Serum</label>
                <input type="number" class="form-control" id="inputFreeCopperBlood" name="inputFreeCopperBlood" placeholder="Free Copper in Blood Serum" min="-6" max="40" step="0.1" required>
              </div>

              <div class="form-group col-lg-4">
                <label for="inputCopperUrine">Enter Copper in Urine</label>
                <input type="number" class="form-control" id="inputCopperUrine" name="inputCopperUrine" placeholder="Copper in Urine" min="-13" max="270" step="0.1" required>
              </div>

              <div class="form-group col-lg-4">
                <label for="inputALT">Enter ALT</label>
                <input type="number" class="form-control" id="inputALT" name="inputALT" placeholder="ALT" min="-24" max="142" step="0.1" required>
              </div>

              <div class="form-group col-lg-4">
                <label for="inputAST">Enter AST</label>
                <input type="number" class="form-control" id="inputAST" name="inputAST" placeholder="AST" min="-24" max="124" step="0.1" required>
              </div>

              <div class="form-group col-lg-4">
                <label for="inputTotalBilirubin">Enter Total Bilirubin</label>
                <input type="number" class="form-control" id="inputTotalBilirubin" name="inputTotalBilirubin" placeholder="Total Bilirubin" min="-2" max="7" step="0.1" required>
              </div>

              <div class="form-group col-lg-4">
                <label for="inputAlbumin">Enter Albumin</label>
                <input type="number" class="form-control" id="inputAlbumin" name="inputAlbumin" placeholder="Albumin" min="2.5" max="8.6" step="0.1" required>
              </div>

              <div class="form-group col-lg-4">
                <label for="inputALP">Enter Alkaline Phosphatase (ALP)</label>
                <input type="number" class="form-control" id="inputALP" name="inputALP" placeholder="Alkaline Phosphatase (ALP)" min="-12" max="262" step="0.1" required>
              </div>

              <div class="form-group col-lg-4">
                <label for="inputProthrombin">Enter Prothrombin Time / INR</label>
                <input type="number" class="form-control" id="inputProthrombin" name="inputProthrombin" placeholder="Prothrombin Time / INR" min="0.7" max="1.8" step="0.1" required>
              </div>

              <div class="form-group col-lg-4">
                <label for="inputGGT">Enter Gamma-Glutamyl Transferase (GGT)</label>
                <input type="number" class="form-control" id="inputGGT" name="inputGGT" placeholder="Gamma-Glutamyl Transferase (GGT)" min="-5.3" max="186" step="0.1" required>
              </div>

              <div class="form-group col-lg-4">
                <label for="inputKFR">Enter Kayser-Fleischer Rings</label>
                <select class="form-control" id="inputKFR" name="inputKFR" required>
                  <option value="0">No</option>
                  <option value="1">Yes</option>
                </select>
              </div>

              <div class="form-group col-lg-4">
                <label for="inputNeurological">Enter Neurological Symptoms Score</label>
                <input type="number" class="form-control" id="inputNeurological" name="inputNeurological" placeholder="Neurological Symptoms Score" min="-2.6" max="14.0" step="0.1" required>
              </div>

              <div class="form-group col-lg-4">
                <label for="inputPsychiatric">Enter Psychiatric Symptoms</label>
                <select class="form-control" id="inputPsychiatric" name="inputPsychiatric" required>
                  <option value="0">No</option>
                  <option value="1">Yes</option>
                </select>
              </div>

              <div class="form-group col-lg-4">
                <label for="inputCognitive">Enter Cognitive Function Score</label>
                <input type="number" class="form-control" id="inputCognitive" name="inputCognitive" placeholder="Cognitive Function Score" min="34.0" max="118.0" step="0.1" required>
              </div>

              <div class="form-group col-lg-4">
                <label for="inputFamilyHistory">Enter Family History</label>
                <select class="form-control" id="inputFamilyHistory" name="inputFamilyHistory" required>
                  <option value="0">No</option>
                  <option value="1">Yes</option>
                </select>
              </div>

              <div class="form-group col-lg-4">
                <label for="inputGeneMutation">Enter ATB7B Gene Mutation</label>
                <select class="form-control" id="inputGeneMutation" name="inputGeneMutation" required>
                  <option value="0">No</option>
                  <option value="1">Yes</option>
                </select>
              </div>

              <div class="form-group col-lg-4">
                <label for="inputSocioeconomicStatus">Enter Socioeconomic Status</label>
                <select class="form-control" id="inputSocioeconomicStatus" name="inputSocioeconomicStatus" required>
                  <option value="High">High</option>
                  <option value="Medium">Medium</option>
                  <option value="Low">Low</option>
                </select>
              </div>

              <div class="form-group col-lg-4">
                <label for="inputAlcoholUse">Enter Alcohol Use</label>
                <select class="form-control" id="inputAlcoholUse" name="inputAlcoholUse" required>
                  <option value="0">No</option>
                  <option value="1">Yes</option>
                </select>
              </div>

              <div class="form-group col-lg-4">
                <label for="inputBMI">Enter BMI</label>
                <input type="number" class="form-control" id="inputBMI" name="inputBMI" placeholder="BMI" min="18" max="50" step="0.1" required>
              </div>

            </div>

            <div class="btn-box"></div>
              <button type="submit" style="background-color: #343a40; color: white; padding: 15px 32px; text-align: center; text-decoration: none; display: inline-block; font-size: 16px; margin: 4px 2px; cursor: pointer;"> CHECK NOW</button>
            </div>

          </form>
        </div>
      </div>
    </div>
  </section>

  <!-- <section>
      <h2>Result</h2>
      <div id="result" class="result-box"></div>
  </section> -->

  <section class="heading_container" style="display: flex; justify-content: center; align-items: center; text-align: center; height: 100px;">
    <h2>
      RESULT PAGE
    </h2>
    <div id="result" class="result-box" style="margin-top: 20px; padding: 10px; background-color: #f8f9fa; color: #333; font-size: 18px; width: 50%; text-align: center; "></div>
  </section>

  <!-- AJAX Script to Handle Form Submission -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> <!-- jQuery before script -->
  <script>
    // This function will capture the form data and submit it via AJAX
    document.getElementById('predictionForm').addEventListener('submit', function(event) {
      event.preventDefault();  // Prevent the form from submitting the usual way
  
      // Collect the data from the form inputs
      const formData = new FormData(this);
  
      // Make an AJAX request to the backend to get the prediction
      fetch('/submit', {
        method: 'POST',
        body: new FormData(this),  // Send the user inputs to the backend
      })
      .then(response => response.json()) // Get the response from the backend
      .then(data => {
        let resultMessage = '';
  
        // Check the prediction value and update the message accordingly
        if (data.prediction === 1) {
          resultMessage = `<span style="color: red; font-weight: bold;">😟 Oh no! You are at risk of having this disease. Please visit a doctor for a check-up.</span>`;
        } else {
          resultMessage = `<span style="color: green; font-weight: bold;">😊 Good news! You are not at risk based on the prediction.</span>`;
        }
  
        // Display the result in the 'result' div
        document.getElementById('result').innerHTML = `Prediction: ${data.prediction} <br> ${resultMessage}`;
      })
      .catch(error => console.error('Error:', error));
    });
  </script>




  
  <!-- end info_section -->


  <!-- footer section -->
  
  <script type="text/javascript" src="js/jquery-3.4.1.min.js"></script>
  <script type="text/javascript" src="js/bootstrap.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js">
  </script>
  <!-- owl carousel script 
    -->
  <script type="text/javascript">
    $(".owl-carousel").owlCarousel({
      loop: true,
      margin: 0,
      navText: [],
      center: true,
      autoplay: true,
      autoplayHoverPause: true,
      responsive: {
        0: {
          items: 1
        },
        1000: {
          items: 3
        }
      }
    });
  </script>
  <!-- end owl carousel script -->

</body>

</html>